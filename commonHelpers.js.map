{"version":3,"file":"commonHelpers.js","sources":["../src/img/javascript.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__90c1298d__\"","// Якщо імейл і пароль користувача збігаються, зберігай дані з форми при сабміті\n// у локальне сховище і змінюй кнопку Login на Logout і роби поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити Logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці Logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport icon from './img/javascript.svg';\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\nconst formEl = document.querySelector('.login-form');\nconst loginBtn = document.querySelector('.login-btn');\nconst inputEmail = document.querySelector(\"[name='email']\");\nconst inputPassword = document.querySelector(\"[name='password']\");\n\nconst onSubmit = event => {\n  event.preventDefault();\n  if (loginBtn.textContent === 'Logout') {\n    formEl.reset();\n    localStorage.removeItem('user-data');\n    loginBtn.textContent = 'Login';\n    inputEmail.removeAttribute('readonly');\n    inputPassword.removeAttribute('readonly');\n    return;\n  }\n  if (!inputEmail.value.trim() || !inputPassword.value.trim()) {\n    // alert('Fill all the fields!');\n    iziToast.warning({\n      message: 'Fill all the fields!',\n      position: 'topCenter',\n      iconUrl: icon,\n    });\n    return;\n  }\n\n  if (\n    inputEmail.value !== USER_DATA.email ||\n    inputPassword.value !== USER_DATA.password\n  ) {\n    // alert('Wrong email or password!');\n    iziToast.error({\n      title: 'Error',\n      message: 'Wrong email or password!',\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  localStorage.setItem(\n    'user-data',\n    JSON.stringify({ email: inputEmail.value, password: inputPassword.value })\n  );\n\n  loginBtn.textContent = 'Logout';\n\n  inputEmail.setAttribute('readonly', true);\n  inputPassword.setAttribute('readonly', true);\n};\n\nformEl.addEventListener('submit', onSubmit);\n\nconst localStorageData = localStorage.getItem('user-data');\nif (localStorageData) {\n  const parsedData = JSON.parse(localStorageData);\n  inputEmail.value = parsedData.email;\n  inputPassword.value = parsedData.password;\n  loginBtn.textContent = 'Logout';\n\n  inputEmail.setAttribute('readonly', true);\n  inputPassword.setAttribute('readonly', true);\n}\n\n// TASK 2 Theme switcher/////\n\nconst switcher = document.querySelector('.switcher-toggle');\nconst onThemeSwitch = event => {\n  if (event.target.checked) {\n    document.body.classList.add('dark');\n    document.body.classList.remove('light');\n    localStorage.setItem('theme', 'dark');\n\n    console.log('Dark');\n  } else {\n    document.body.classList.add('light');\n    document.body.classList.remove('dark');\n    localStorage.setItem('theme', 'light');\n\n    console.log('light');\n  }\n};\n\nconst localStorageTheme = localStorage.getItem('theme');\nif (localStorageTheme === 'dark') {\n  switcher.checked = true;\n  document.body.classList.add('dark');\n  document.body.classList.remove('light');\n}\n\nswitcher.addEventListener('change', onThemeSwitch);\n"],"names":["icon","USER_DATA","formEl","loginBtn","inputEmail","inputPassword","onSubmit","event","iziToast","localStorageData","parsedData","switcher","onThemeSwitch","localStorageTheme"],"mappings":"svBAAA,MAAeA,EAAA,mDCYTC,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EACMC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAgB,SAAS,cAAc,mBAAmB,EAE1DC,EAAWC,GAAS,CAExB,GADAA,EAAM,eAAc,EAChBJ,EAAS,cAAgB,SAAU,CACrCD,EAAO,MAAK,EACZ,aAAa,WAAW,WAAW,EACnCC,EAAS,YAAc,QACvBC,EAAW,gBAAgB,UAAU,EACrCC,EAAc,gBAAgB,UAAU,EACxC,MACD,CACD,GAAI,CAACD,EAAW,MAAM,KAAI,GAAM,CAACC,EAAc,MAAM,OAAQ,CAE3DG,EAAS,QAAQ,CACf,QAAS,uBACT,SAAU,YACV,QAASR,CACf,CAAK,EACD,MACD,CAED,GACEI,EAAW,QAAUH,EAAU,OAC/BI,EAAc,QAAUJ,EAAU,SAClC,CAEAO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,WAChB,CAAK,EACD,MACD,CAED,aAAa,QACX,YACA,KAAK,UAAU,CAAE,MAAOJ,EAAW,MAAO,SAAUC,EAAc,MAAO,CAC7E,EAEEF,EAAS,YAAc,SAEvBC,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAc,aAAa,WAAY,EAAI,CAC7C,EAEAH,EAAO,iBAAiB,SAAUI,CAAQ,EAE1C,MAAMG,EAAmB,aAAa,QAAQ,WAAW,EACzD,GAAIA,EAAkB,CACpB,MAAMC,EAAa,KAAK,MAAMD,CAAgB,EAC9CL,EAAW,MAAQM,EAAW,MAC9BL,EAAc,MAAQK,EAAW,SACjCP,EAAS,YAAc,SAEvBC,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAc,aAAa,WAAY,EAAI,CAC7C,CAIA,MAAMM,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAgBL,GAAS,CACzBA,EAAM,OAAO,SACf,SAAS,KAAK,UAAU,IAAI,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,OAAO,EACtC,aAAa,QAAQ,QAAS,MAAM,EAEpC,QAAQ,IAAI,MAAM,IAElB,SAAS,KAAK,UAAU,IAAI,OAAO,EACnC,SAAS,KAAK,UAAU,OAAO,MAAM,EACrC,aAAa,QAAQ,QAAS,OAAO,EAErC,QAAQ,IAAI,OAAO,EAEvB,EAEMM,EAAoB,aAAa,QAAQ,OAAO,EAClDA,IAAsB,SACxBF,EAAS,QAAU,GACnB,SAAS,KAAK,UAAU,IAAI,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,OAAO,GAGxCA,EAAS,iBAAiB,SAAUC,CAAa"}